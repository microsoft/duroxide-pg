
running 1 test
2025-11-10T01:31:54.237268Z DEBUG sqlx::query: summary="CREATE SCHEMA IF NOT â€¦" db.statement="\n\nCREATE SCHEMA IF NOT EXISTS e2e_test_950be669\n" rows_affected=0 rows_returned=0 elapsed=229.056708ms elapsed_secs=0.229056708
2025-11-10T01:31:54.237613Z DEBUG duroxide_pg::migrations: Loaded 2 migrations for schema e2e_test_950be669
2025-11-10T01:31:55.202480Z DEBUG sqlx::query: summary="CREATE TABLE IF NOT â€¦" db.statement="\n\nCREATE TABLE IF NOT EXISTS e2e_test_950be669._duroxide_migrations (\n  version BIGINT PRIMARY KEY,\n  name TEXT NOT NULL,\n  applied_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP\n)\n" rows_affected=0 rows_returned=0 elapsed=219.744625ms elapsed_secs=0.219744625
2025-11-10T01:31:55.461759Z DEBUG sqlx::query: summary="SELECT version FROM e2e_test_950be669._duroxide_migrations â€¦" db.statement="\n\nSELECT\n  version\nFROM\n  e2e_test_950be669._duroxide_migrations\nORDER BY\n  version\n" rows_affected=0 rows_returned=0 elapsed=176.386834ms elapsed_secs=0.176386834
2025-11-10T01:31:55.461805Z DEBUG duroxide_pg::migrations: Applied migrations: []
2025-11-10T01:31:55.727259Z DEBUG sqlx::query: summary="SELECT EXISTS(SELECT 1 FROM â€¦" db.statement="\n\nSELECT\n  EXISTS(\n    SELECT\n      1\n    FROM\n      information_schema.tables\n    WHERE\n      table_schema = $1\n      AND table_name = 'instances'\n  )\n" rows_affected=0 rows_returned=1 elapsed=180.936917ms elapsed_secs=0.180936917
2025-11-10T01:31:55.727318Z DEBUG duroxide_pg::migrations: Applying migration 1: 0001_initial_schema.sql
2025-11-10T01:31:56.071934Z DEBUG sqlx::query: summary="SET LOCAL search_path TO â€¦" db.statement="\n\nSET\n  LOCAL search_path TO e2e_test_950be669\n" rows_affected=0 rows_returned=0 elapsed=174.46575ms elapsed_secs=0.17446575
2025-11-10T01:31:56.072169Z DEBUG duroxide_pg::migrations: Executing 13 statements for migration 1
2025-11-10T01:31:56.072182Z DEBUG duroxide_pg::migrations: Executing statement 1 of 13: CREATE TABLE IF NOT EXISTS instances (
    instanc...
2025-11-10T01:31:56.339916Z DEBUG sqlx::query: summary="CREATE TABLE IF NOT â€¦" db.statement="\n\nCREATE TABLE IF NOT EXISTS instances (\n  instance_id TEXT PRIMARY KEY,\n  orchestration_name TEXT NOT NULL,\n  orchestration_version TEXT,\n  current_execution_id BIGINT NOT NULL DEFAULT 1,\n  created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP\n);\n" rows_affected=0 rows_returned=0 elapsed=264.719375ms elapsed_secs=0.264719375
2025-11-10T01:31:56.339973Z DEBUG duroxide_pg::migrations: Executing statement 2 of 13: CREATE TABLE IF NOT EXISTS executions (
    instan...
2025-11-10T01:31:56.510815Z DEBUG sqlx::query: summary="CREATE TABLE IF NOT â€¦" db.statement="\n\nCREATE TABLE IF NOT EXISTS executions (\n  instance_id TEXT NOT NULL,\n  execution_id BIGINT NOT NULL,\n  status TEXT NOT NULL DEFAULT 'Running',\n  output TEXT,\n  started_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP,\n  completed_at TIMESTAMPTZ,\n  PRIMARY KEY (instance_id, execution_id)\n);\n" rows_affected=0 rows_returned=0 elapsed=169.015416ms elapsed_secs=0.169015416
2025-11-10T01:31:56.510856Z DEBUG duroxide_pg::migrations: Executing statement 3 of 13: CREATE TABLE IF NOT EXISTS history (
    instance_...
2025-11-10T01:31:56.678558Z DEBUG sqlx::query: summary="CREATE TABLE IF NOT â€¦" db.statement="\n\nCREATE TABLE IF NOT EXISTS history (\n  instance_id TEXT NOT NULL,\n  execution_id BIGINT NOT NULL,\n  event_id BIGINT NOT NULL,\n  event_type TEXT NOT NULL,\n  event_data TEXT NOT NULL,\n  created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (instance_id, execution_id, event_id)\n);\n" rows_affected=0 rows_returned=0 elapsed=166.0185ms elapsed_secs=0.1660185
2025-11-10T01:31:56.678598Z DEBUG duroxide_pg::migrations: Executing statement 4 of 13: CREATE TABLE IF NOT EXISTS orchestrator_queue (
  ...
2025-11-10T01:31:56.862858Z DEBUG sqlx::query: summary="CREATE TABLE IF NOT â€¦" db.statement="\n\nCREATE TABLE IF NOT EXISTS orchestrator_queue (\n  id BIGSERIAL PRIMARY KEY,\n  instance_id TEXT NOT NULL,\n  work_item TEXT NOT NULL,\n  visible_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP,\n  lock_token TEXT,\n  locked_until BIGINT,\n  created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP\n);\n" rows_affected=0 rows_returned=0 elapsed=181.778167ms elapsed_secs=0.181778167
2025-11-10T01:31:56.863006Z DEBUG duroxide_pg::migrations: Executing statement 5 of 13: CREATE TABLE IF NOT EXISTS worker_queue (
    id B...
2025-11-10T01:31:57.028776Z DEBUG sqlx::query: summary="CREATE TABLE IF NOT â€¦" db.statement="\n\nCREATE TABLE IF NOT EXISTS worker_queue (\n  id BIGSERIAL PRIMARY KEY,\n  work_item TEXT NOT NULL,\n  lock_token TEXT,\n  locked_until BIGINT,\n  created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP\n);\n" rows_affected=0 rows_returned=0 elapsed=164.396833ms elapsed_secs=0.164396833
2025-11-10T01:31:57.028837Z DEBUG duroxide_pg::migrations: Executing statement 6 of 13: CREATE TABLE IF NOT EXISTS instance_locks (
    in...
2025-11-10T01:31:57.195376Z DEBUG sqlx::query: summary="CREATE TABLE IF NOT â€¦" db.statement="\n\nCREATE TABLE IF NOT EXISTS instance_locks (\n  instance_id TEXT PRIMARY KEY,\n  lock_token TEXT NOT NULL,\n  locked_until BIGINT NOT NULL,\n  locked_at BIGINT NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=165.136ms elapsed_secs=0.165136
2025-11-10T01:31:57.195410Z DEBUG duroxide_pg::migrations: Executing statement 7 of 13: CREATE INDEX IF NOT EXISTS idx_orch_visible ON orc...
2025-11-10T01:31:57.390067Z DEBUG sqlx::query: summary="CREATE INDEX IF NOT â€¦" db.statement="\n\nCREATE INDEX IF NOT EXISTS idx_orch_visible ON orchestrator_queue(visible_at, lock_token);\n" rows_affected=0 rows_returned=0 elapsed=193.930209ms elapsed_secs=0.193930209
2025-11-10T01:31:57.390104Z DEBUG duroxide_pg::migrations: Executing statement 8 of 13: CREATE INDEX IF NOT EXISTS idx_orch_instance ON or...
2025-11-10T01:31:57.556775Z DEBUG sqlx::query: summary="CREATE INDEX IF NOT â€¦" db.statement="\n\nCREATE INDEX IF NOT EXISTS idx_orch_instance ON orchestrator_queue(instance_id);\n" rows_affected=0 rows_returned=0 elapsed=166.076333ms elapsed_secs=0.166076333
2025-11-10T01:31:57.556811Z DEBUG duroxide_pg::migrations: Executing statement 9 of 13: CREATE INDEX IF NOT EXISTS idx_orch_lock ON orches...
2025-11-10T01:31:57.724916Z DEBUG sqlx::query: summary="CREATE INDEX IF NOT â€¦" db.statement="\n\nCREATE INDEX IF NOT EXISTS idx_orch_lock ON orchestrator_queue(lock_token);\n" rows_affected=0 rows_returned=0 elapsed=167.624166ms elapsed_secs=0.167624166
2025-11-10T01:31:57.724952Z DEBUG duroxide_pg::migrations: Executing statement 10 of 13: CREATE INDEX IF NOT EXISTS idx_worker_available ON...
2025-11-10T01:31:57.914744Z DEBUG sqlx::query: summary="CREATE INDEX IF NOT â€¦" db.statement="\n\nCREATE INDEX IF NOT EXISTS idx_worker_available ON worker_queue(lock_token, id);\n" rows_affected=0 rows_returned=0 elapsed=189.1705ms elapsed_secs=0.1891705
2025-11-10T01:31:57.914780Z DEBUG duroxide_pg::migrations: Executing statement 11 of 13: CREATE INDEX IF NOT EXISTS idx_instance_locks_lock...
2025-11-10T01:31:58.089881Z DEBUG sqlx::query: summary="CREATE INDEX IF NOT â€¦" db.statement="\n\nCREATE INDEX IF NOT EXISTS idx_instance_locks_locked_until ON instance_locks(locked_until);\n" rows_affected=0 rows_returned=0 elapsed=174.662334ms elapsed_secs=0.174662334
2025-11-10T01:31:58.089916Z DEBUG duroxide_pg::migrations: Executing statement 12 of 13: CREATE INDEX IF NOT EXISTS idx_history_lookup ON h...
2025-11-10T01:31:58.259790Z DEBUG sqlx::query: summary="CREATE INDEX IF NOT â€¦" db.statement="\n\nCREATE INDEX IF NOT EXISTS idx_history_lookup ON history(instance_id, execution_id, event_id);\n" rows_affected=0 rows_returned=0 elapsed=168.972458ms elapsed_secs=0.168972458
2025-11-10T01:31:58.259838Z DEBUG duroxide_pg::migrations: Executing statement 13 of 13: CREATE TABLE IF NOT EXISTS _duroxide_migrations (
...
2025-11-10T01:31:58.515337Z  INFO sqlx::postgres::notice: relation "_duroxide_migrations" already exists, skipping
2025-11-10T01:31:58.516147Z DEBUG sqlx::query: summary="CREATE TABLE IF NOT â€¦" db.statement="\n\nCREATE TABLE IF NOT EXISTS _duroxide_migrations (\n  version BIGINT PRIMARY KEY,\n  name TEXT NOT NULL,\n  applied_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP\n);\n" rows_affected=0 rows_returned=0 elapsed=255.522375ms elapsed_secs=0.255522375
2025-11-10T01:31:58.685438Z DEBUG sqlx::query: summary="INSERT INTO e2e_test_950be669._duroxide_migrations (version, â€¦" db.statement="\n\nINSERT INTO\n  e2e_test_950be669._duroxide_migrations (version, name)\nVALUES\n  ($1, $2)\n" rows_affected=1 rows_returned=0 elapsed=168.686041ms elapsed_secs=0.168686041
2025-11-10T01:31:58.768016Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=82.52625ms elapsed_secs=0.08252625
2025-11-10T01:31:58.768060Z  INFO duroxide_pg::migrations: Applied migration 1: 0001_initial_schema.sql
2025-11-10T01:31:58.768102Z DEBUG duroxide_pg::migrations: Applying migration 2: 0002_create_stored_procedures.sql
2025-11-10T01:31:59.125494Z DEBUG sqlx::query: summary="SET LOCAL search_path TO â€¦" db.statement="\n\nSET\n  LOCAL search_path TO e2e_test_950be669\n" rows_affected=0 rows_returned=0 elapsed=168.347583ms elapsed_secs=0.168347583
2025-11-10T01:31:59.126289Z DEBUG duroxide_pg::migrations: Executing 1 statements for migration 2
2025-11-10T01:31:59.126301Z DEBUG duroxide_pg::migrations: Executing statement 1 of 1: DO $$
DECLARE
    v_schema_name TEXT := current_sc...
2025-11-10T01:31:59.484940Z  INFO sqlx::postgres::notice: function e2e_test_950be669.fetch_orchestration_item(pg_catalog.int8,pg_catalog.int8) does not exist, skipping
2025-11-10T01:31:59.495546Z DEBUG sqlx::query: summary="DO $$ DECLARE v_schema_name â€¦" db.statement="\n\nDO\n$$\nDECLARE\nv_schema_name TEXT := current_schema();\nBEGIN\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.cleanup_schema()\n        RETURNS VOID AS $cleanup$\n        BEGIN\n            DROP TABLE IF EXISTS %I.instances CASCADE;\n            DROP TABLE IF EXISTS %I.executions CASCADE;\n            DROP TABLE IF EXISTS %I.history CASCADE;\n            DROP TABLE IF EXISTS %I.orchestrator_queue CASCADE;\n            DROP TABLE IF EXISTS %I.worker_queue CASCADE;\n            DROP TABLE IF EXISTS %I.instance_locks CASCADE;\n            DROP TABLE IF EXISTS %I._duroxide_migrations CASCADE;\n        END;\n        $cleanup$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.list_instances()\n        RETURNS TABLE(instance_id TEXT) AS $list_inst$\n        BEGIN\n            RETURN QUERY\n            SELECT i.instance_id\n            FROM %I.instances i\n            ORDER BY i.created_at DESC;\n        END;\n        $list_inst$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.list_executions(p_instance_id TEXT)\n        RETURNS TABLE(execution_id BIGINT) AS $list_exec$\n        BEGIN\n            RETURN QUERY\n            SELECT e.execution_id\n            FROM %I.executions e\n            WHERE e.instance_id = p_instance_id\n            ORDER BY e.execution_id;\n        END;\n        $list_exec$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.latest_execution_id(p_instance_id TEXT)\n        RETURNS BIGINT AS $latest_exec$\n        DECLARE\n            v_execution_id BIGINT;\n        BEGIN\n            SELECT i.current_execution_id INTO v_execution_id\n            FROM %I.instances i\n            WHERE i.instance_id = p_instance_id;\n            \n            RETURN v_execution_id;\n        END;\n        $latest_exec$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.list_instances_by_status(p_status TEXT)\n        RETURNS TABLE(instance_id TEXT) AS $list_by_status$\n        BEGIN\n            RETURN QUERY\n            SELECT i.instance_id\n            FROM %I.instances i\n            JOIN %I.executions e ON i.instance_id = e.instance_id \n              AND i.current_execution_id = e.execution_id\n            WHERE e.status = p_status\n            ORDER BY i.created_at DESC;\n        END;\n        $list_by_status$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.get_instance_info(p_instance_id TEXT)\n        RETURNS TABLE(\n            instance_id TEXT,\n            orchestration_name TEXT,\n            orchestration_version TEXT,\n            current_execution_id BIGINT,\n            created_at TIMESTAMPTZ,\n            updated_at TIMESTAMPTZ,\n            status TEXT,\n            output TEXT\n        ) AS $get_inst_info$\n        BEGIN\n            RETURN QUERY\n            SELECT i.instance_id, i.orchestration_name, \n                   COALESCE(i.orchestration_version, ''unknown'') as orchestration_version,\n                   i.current_execution_id, i.created_at, i.updated_at,\n                   e.status, e.output\n            FROM %I.instances i\n            LEFT JOIN %I.executions e ON i.instance_id = e.instance_id \n              AND i.current_execution_id = e.execution_id\n            WHERE i.instance_id = p_instance_id;\n        END;\n        $get_inst_info$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.get_execution_info(\n            p_instance_id TEXT,\n            p_execution_id BIGINT\n        )\n        RETURNS TABLE(\n            execution_id BIGINT,\n            status TEXT,\n            output TEXT,\n            started_at TIMESTAMPTZ,\n            completed_at TIMESTAMPTZ,\n            event_count BIGINT\n        ) AS $get_exec_info$\n        BEGIN\n            RETURN QUERY\n            SELECT e.execution_id, e.status, e.output, \n                   e.started_at, e.completed_at,\n                   COALESCE(COUNT(h.event_id), 0)::BIGINT as event_count\n            FROM %I.executions e\n            LEFT JOIN %I.history h ON e.instance_id = h.instance_id \n              AND e.execution_id = h.execution_id\n            WHERE e.instance_id = p_instance_id AND e.execution_id = p_execution_id\n            GROUP BY e.execution_id, e.status, e.output, e.started_at, e.completed_at;\n        END;\n        $get_exec_info$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.get_system_metrics()\n        RETURNS TABLE(\n            total_instances BIGINT,\n            total_executions BIGINT,\n            running_instances BIGINT,\n            completed_instances BIGINT,\n            failed_instances BIGINT,\n            total_events BIGINT\n        ) AS $get_metrics$\n        BEGIN\n            RETURN QUERY\n            SELECT \n                (SELECT COUNT(*)::BIGINT FROM %I.instances) as total_instances,\n                (SELECT COUNT(*)::BIGINT FROM %I.executions) as total_executions,\n                (SELECT COUNT(DISTINCT i.instance_id)::BIGINT\n                 FROM %I.instances i\n                 JOIN %I.executions e ON i.instance_id = e.instance_id \n                   AND i.current_execution_id = e.execution_id\n                 WHERE e.status = ''Running'') as running_instances,\n                (SELECT COUNT(DISTINCT i.instance_id)::BIGINT\n                 FROM %I.instances i\n                 JOIN %I.executions e ON i.instance_id = e.instance_id \n                   AND i.current_execution_id = e.execution_id\n                 WHERE e.status = ''Completed'') as completed_instances,\n                (SELECT COUNT(DISTINCT i.instance_id)::BIGINT\n                 FROM %I.instances i\n                 JOIN %I.executions e ON i.instance_id = e.instance_id \n                   AND i.current_execution_id = e.execution_id\n                 WHERE e.status = ''Failed'') as failed_instances,\n                (SELECT COUNT(*)::BIGINT FROM %I.history) as total_events;\n        END;\n        $get_metrics$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.get_queue_depths(p_now_ms BIGINT)\n        RETURNS TABLE(\n            orchestrator_queue BIGINT,\n            worker_queue BIGINT\n        ) AS $get_queue_depths$\n        BEGIN\n            RETURN QUERY\n            SELECT \n                (SELECT COUNT(*)::BIGINT FROM %I.orchestrator_queue \n                 WHERE lock_token IS NULL OR locked_until <= p_now_ms) as orchestrator_queue,\n                (SELECT COUNT(*)::BIGINT FROM %I.worker_queue \n                 WHERE lock_token IS NULL OR locked_until <= p_now_ms) as worker_queue;\n        END;\n        $get_queue_depths$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.enqueue_worker_work(p_work_item TEXT)\n        RETURNS VOID AS $enq_worker$\n        BEGIN\n            INSERT INTO %I.worker_queue (work_item, created_at)\n            VALUES (p_work_item, NOW());\n        END;\n        $enq_worker$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.ack_worker(\n            p_lock_token TEXT,\n            p_instance_id TEXT,\n            p_completion_json TEXT\n        )\n        RETURNS VOID AS $ack_worker$\n        DECLARE\n            v_rows_affected INTEGER;\n        BEGIN\n            DELETE FROM %I.worker_queue WHERE lock_token = p_lock_token;\n            GET DIAGNOSTICS v_rows_affected = ROW_COUNT;\n            IF v_rows_affected = 0 THEN\n                RAISE EXCEPTION ''Worker queue item not found or already processed'';\n            END IF;\n            INSERT INTO %I.orchestrator_queue (instance_id, work_item, visible_at, created_at)\n            VALUES (p_instance_id, p_completion_json, NOW(), NOW());\n        END;\n        $ack_worker$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.enqueue_orchestrator_work(\n            p_instance_id TEXT,\n            p_work_item TEXT,\n            p_visible_at TIMESTAMPTZ,\n            p_orchestration_name TEXT DEFAULT NULL,\n            p_orchestration_version TEXT DEFAULT NULL,\n            p_execution_id BIGINT DEFAULT NULL\n        )\n        RETURNS VOID AS $enq_orch$\n        BEGIN\n            \n            INSERT INTO %I.orchestrator_queue (instance_id, work_item, visible_at, created_at)\n            VALUES (p_instance_id, p_work_item, p_visible_at, NOW());\n        END;\n        $enq_orch$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  'DROP FUNCTION IF EXISTS %I.fetch_orchestration_item(BIGINT, BIGINT)',\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.fetch_orchestration_item(\n            p_now_ms BIGINT,\n            p_lock_timeout_ms BIGINT\n        )\n        RETURNS TABLE(\n            out_instance_id TEXT,\n            out_orchestration_name TEXT,\n            out_orchestration_version TEXT,\n            out_execution_id BIGINT,\n            out_history JSONB,\n            out_messages JSONB,\n            out_lock_token TEXT\n        ) AS $fetch_orch$\n        DECLARE\n            v_instance_id TEXT;\n            v_lock_token TEXT;\n            v_locked_until BIGINT;\n            v_orchestration_name TEXT;\n            v_orchestration_version TEXT;\n            v_current_execution_id BIGINT;\n            v_history JSONB;\n            v_messages JSONB;\n            v_lock_acquired INTEGER;\n        BEGIN\n            SELECT q.instance_id INTO v_instance_id\n            FROM %I.orchestrator_queue q\n            WHERE q.visible_at <= TO_TIMESTAMP(p_now_ms / 1000.0)\n              AND NOT EXISTS (\n                SELECT 1 FROM %I.instance_locks il\n                WHERE il.instance_id = q.instance_id AND il.locked_until > p_now_ms\n              )\n            ORDER BY q.visible_at, q.id\n            LIMIT 1\n            FOR UPDATE OF q SKIP LOCKED;\n            IF NOT FOUND THEN\n                RETURN;\n            END IF;\n            v_lock_token := ''lock_'' || gen_random_uuid()::TEXT;\n            v_locked_until := p_now_ms + p_lock_timeout_ms;\n            INSERT INTO %I.instance_locks (instance_id, lock_token, locked_until, locked_at)\n            VALUES (v_instance_id, v_lock_token, v_locked_until, p_now_ms)\n            ON CONFLICT(instance_id) DO UPDATE\n            SET lock_token = EXCLUDED.lock_token,\n                locked_until = EXCLUDED.locked_until,\n                locked_at = EXCLUDED.locked_at\n            WHERE %I.instance_locks.locked_until <= p_now_ms;\n            GET DIAGNOSTICS v_lock_acquired = ROW_COUNT;\n            IF v_lock_acquired = 0 THEN\n                RETURN;\n            END IF;\n            UPDATE %I.orchestrator_queue q\n            SET lock_token = v_lock_token,\n                locked_until = v_locked_until\n            WHERE q.instance_id = v_instance_id\n              AND q.visible_at <= TO_TIMESTAMP(p_now_ms / 1000.0)\n              AND (q.lock_token IS NULL OR q.locked_until <= p_now_ms);\n            SELECT COALESCE(JSONB_AGG(q.work_item::JSONB ORDER BY q.id), ''[]''::JSONB)\n            INTO v_messages\n            FROM %I.orchestrator_queue q\n            WHERE q.lock_token = v_lock_token;\n            SELECT i.orchestration_name, i.orchestration_version, i.current_execution_id\n            INTO v_orchestration_name, v_orchestration_version, v_current_execution_id\n            FROM %I.instances i\n            WHERE i.instance_id = v_instance_id;\n            IF FOUND THEN\n                SELECT COALESCE(JSONB_AGG(h.event_data::JSONB ORDER BY h.event_id), ''[]''::JSONB)\n                INTO v_history\n                FROM %I.history h\n                WHERE h.instance_id = v_instance_id AND h.execution_id = v_current_execution_id;\n                \n                v_orchestration_version := COALESCE(v_orchestration_version, ''unknown'');\n            ELSE\n                SELECT COALESCE(JSONB_AGG(h.event_data::JSONB ORDER BY h.execution_id, h.event_id), ''[]''::JSONB)\n                INTO v_history\n                FROM %I.history h\n                WHERE h.instance_id = v_instance_id;\n                IF JSONB_ARRAY_LENGTH(v_history) > 0 AND v_history->0 ? ''OrchestrationStarted'' THEN\n                    v_orchestration_name := v_history->0->''OrchestrationStarted''->>''name'';\n                    v_orchestration_version := v_history->0->''OrchestrationStarted''->>''version'';\n                    v_current_execution_id := 1;\n                ELSIF JSONB_ARRAY_LENGTH(v_messages) > 0 AND v_messages->0 ? ''StartOrchestration'' THEN\n                    v_orchestration_name := v_messages->0->''StartOrchestration''->>''orchestration'';\n                    v_orchestration_version := COALESCE(v_messages->0->''StartOrchestration''->>''version'', ''unknown'');\n                    v_current_execution_id := COALESCE((v_messages->0->''StartOrchestration''->>''execution_id'')::BIGINT, 1);\n                ELSIF JSONB_ARRAY_LENGTH(v_messages) > 0 AND v_messages->0 ? ''ContinueAsNew'' THEN\n                    v_orchestration_name := v_messages->0->''ContinueAsNew''->>''orchestration'';\n                    v_orchestration_version := COALESCE(v_messages->0->''ContinueAsNew''->>''version'', ''unknown'');\n                    v_current_execution_id := 1;\n                ELSE\n                    v_orchestration_name := ''Unknown'';\n                    v_orchestration_version := ''unknown'';\n                    v_current_execution_id := 1;\n                END IF;\n            END IF;\n            RETURN QUERY SELECT\n                v_instance_id,\n                v_orchestration_name,\n                v_orchestration_version,\n                v_current_execution_id,\n                v_history,\n                v_messages,\n                v_lock_token;\n        END;\n        $fetch_orch$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEXECUTE format(\n  '\n        CREATE OR REPLACE FUNCTION %I.ack_orchestration_item(\n            p_lock_token TEXT,\n            p_execution_id BIGINT,\n            p_history_delta JSONB,\n            p_worker_items JSONB,\n            p_orchestrator_items JSONB,\n            p_metadata JSONB\n        )\n        RETURNS VOID AS $ack_orch$\n        DECLARE\n            v_instance_id TEXT;\n            v_now_ms BIGINT;\n            v_orchestration_name TEXT;\n            v_orchestration_version TEXT;\n            v_status TEXT;\n            v_output TEXT;\n            v_completed_at TIMESTAMPTZ;\n            v_elem JSONB;\n            v_visible_at TIMESTAMPTZ;\n            v_fire_at_ms BIGINT;\n            v_item_instance_id TEXT;\n        BEGIN\n            v_now_ms := (EXTRACT(EPOCH FROM NOW()) * 1000)::BIGINT;\n            SELECT il.instance_id INTO v_instance_id\n            FROM %I.instance_locks il\n            WHERE il.lock_token = p_lock_token AND il.locked_until > v_now_ms;\n            IF NOT FOUND THEN\n                RAISE EXCEPTION ''Invalid lock token'';\n            END IF;\n            v_orchestration_name := p_metadata->>''orchestration_name'';\n            v_orchestration_version := p_metadata->>''orchestration_version'';\n            v_status := p_metadata->>''status'';\n            v_output := p_metadata->>''output'';\n            IF v_orchestration_name IS NOT NULL AND v_orchestration_version IS NOT NULL THEN\n                INSERT INTO %I.instances (instance_id, orchestration_name, orchestration_version, current_execution_id)\n                VALUES (v_instance_id, v_orchestration_name, v_orchestration_version, p_execution_id)\n                ON CONFLICT (instance_id) DO NOTHING;\n                UPDATE %I.instances i\n                SET orchestration_name = v_orchestration_name,\n                    orchestration_version = v_orchestration_version\n                WHERE i.instance_id = v_instance_id;\n            END IF;\n            INSERT INTO %I.executions (instance_id, execution_id, status, started_at)\n            VALUES (v_instance_id, p_execution_id, ''Running'', NOW())\n            ON CONFLICT (instance_id, execution_id) DO NOTHING;\n            UPDATE %I.instances i\n            SET current_execution_id = GREATEST(i.current_execution_id, p_execution_id)\n            WHERE i.instance_id = v_instance_id;\n            IF p_history_delta IS NOT NULL AND JSONB_ARRAY_LENGTH(p_history_delta) > 0 THEN\n                INSERT INTO %I.history (instance_id, execution_id, event_id, event_type, event_data)\n                SELECT\n                    v_instance_id,\n                    p_execution_id,\n                    (elem->>''event_id'')::BIGINT,\n                    elem->>''event_type'',\n                    elem->>''event_data''\n                FROM JSONB_ARRAY_ELEMENTS(p_history_delta) AS elem;\n            END IF;\n            IF v_status IS NOT NULL THEN\n                v_completed_at := CASE \n                    WHEN v_status IN (''Completed'', ''Failed'') THEN NOW() \n                    ELSE NULL \n                END;\n                \n                UPDATE %I.executions e\n                SET status = v_status, output = v_output, completed_at = v_completed_at\n                WHERE e.instance_id = v_instance_id AND e.execution_id = p_execution_id;\n            END IF;\n            IF p_worker_items IS NOT NULL AND JSONB_ARRAY_LENGTH(p_worker_items) > 0 THEN\n                INSERT INTO %I.worker_queue (work_item, created_at)\n                SELECT elem::TEXT, NOW()\n                FROM JSONB_ARRAY_ELEMENTS(p_worker_items) AS elem;\n            END IF;\n            IF p_orchestrator_items IS NOT NULL AND JSONB_ARRAY_LENGTH(p_orchestrator_items) > 0 THEN\n                FOR v_elem IN SELECT value FROM JSONB_ARRAY_ELEMENTS(p_orchestrator_items) LOOP\n                    IF v_elem ? ''StartOrchestration'' THEN\n                        v_item_instance_id := v_elem->''StartOrchestration''->>''instance'';\n                    ELSIF v_elem ? ''ContinueAsNew'' THEN\n                        v_item_instance_id := v_elem->''ContinueAsNew''->>''instance'';\n                    ELSIF v_elem ? ''TimerFired'' THEN\n                        v_item_instance_id := v_elem->''TimerFired''->>''instance'';\n                        v_fire_at_ms := (v_elem->''TimerFired''->>''fire_at_ms'')::BIGINT;\n                    ELSIF v_elem ? ''ActivityCompleted'' THEN\n                        v_item_instance_id := v_elem->''ActivityCompleted''->>''instance'';\n                    ELSIF v_elem ? ''ActivityFailed'' THEN\n                        v_item_instance_id := v_elem->''ActivityFailed''->>''instance'';\n                    ELSIF v_elem ? ''ExternalRaised'' THEN\n                        v_item_instance_id := v_elem->''ExternalRaised''->>''instance'';\n                    ELSIF v_elem ? ''CancelInstance'' THEN\n                        v_item_instance_id := v_elem->''CancelInstance''->>''instance'';\n                    ELSIF v_elem ? ''SubOrchCompleted'' THEN\n                        v_item_instance_id := v_elem->''SubOrchCompleted''->>''parent_instance'';\n                    ELSIF v_elem ? ''SubOrchFailed'' THEN\n                        v_item_instance_id := v_elem->''SubOrchFailed''->>''parent_instance'';\n                    ELSE\nv_item_instance_id := v_instance_id;\n                    END IF;\n                    IF v_elem ? ''TimerFired'' AND v_fire_at_ms IS NOT NULL AND v_fire_at_ms > 0 THEN\n                        v_visible_at := TO_TIMESTAMP(v_fire_at_ms / 1000.0);\n                    ELSE\n                        v_visible_at := NOW();\n                    END IF;\n                    INSERT INTO %I.orchestrator_queue (instance_id, work_item, visible_at, created_at)\n                    VALUES (v_item_instance_id, v_elem::TEXT, v_visible_at, NOW());\n                    \nv_fire_at_ms := NULL;\n                END LOOP;\n            END IF;\n            DELETE FROM %I.orchestrator_queue q WHERE q.lock_token = p_lock_token;\n            DELETE FROM %I.instance_locks il\n            WHERE il.instance_id = v_instance_id AND il.lock_token = p_lock_token;\n        END;\n        $ack_orch$ LANGUAGE plpgsql;\n    ',\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name,\n  v_schema_name\n);\nEND\n$$\n;\n" rows_affected=0 rows_returned=0 elapsed=358.663125ms elapsed_secs=0.358663125
2025-11-10T01:31:59.661819Z DEBUG sqlx::query: summary="INSERT INTO e2e_test_950be669._duroxide_migrations (version, â€¦" db.statement="\n\nINSERT INTO\n  e2e_test_950be669._duroxide_migrations (version, name)\nVALUES\n  ($1, $2)\n" rows_affected=1 rows_returned=0 elapsed=165.620708ms elapsed_secs=0.165620708
2025-11-10T01:31:59.747186Z DEBUG sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=85.306708ms elapsed_secs=0.085306708
2025-11-10T01:31:59.747278Z  INFO duroxide_pg::migrations: Applied migration 2: 0002_create_stored_procedures.sql
2025-11-10T01:32:00.089467Z DEBUG enqueue_for_orchestrator{item=StartOrchestration { instance: "inst-sample-hello-1", orchestration: "HelloWorld", input: "World", version: None, parent_instance: None, parent_id: None, execution_id: 1 } delay_ms=None}: sqlx::query: summary="SELECT e2e_test_950be669.enqueue_orchestrator_work($1, $2, $3, â€¦" db.statement="\n\nSELECT\n  e2e_test_950be669.enqueue_orchestrator_work($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=1 elapsed=257.522416ms elapsed_secs=0.257522416
2025-11-10T01:32:00.089531Z DEBUG enqueue_for_orchestrator{item=StartOrchestration { instance: "inst-sample-hello-1", orchestration: "HelloWorld", input: "World", version: None, parent_instance: None, parent_id: None, execution_id: 1 } delay_ms=None}: duroxide_pg::provider: Enqueued orchestrator work target="duroxide::providers::postgres" operation="enqueue_orchestrator_work" instance_id=inst-sample-hello-1
2025-11-10T01:32:00.342425Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=166.632042ms elapsed_secs=0.166632042
2025-11-10T01:32:00.668373Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=0 rows_returned=0 elapsed=220.038958ms elapsed_secs=0.220038958
2025-11-10T01:32:00.831420Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=83.06225ms elapsed_secs=0.08306225
2025-11-10T01:32:00.832237Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=1 elapsed=172.013ms elapsed_secs=0.172013
2025-11-10T01:32:00.832340Z DEBUG fetch_orchestration_item: duroxide_pg::provider: Fetched orchestration item via stored procedure target="duroxide::providers::postgres" operation="fetch_orchestration_item" instance_id=inst-sample-hello-1 execution_id=1 message_count=1 history_count=0 duration_ms=1084 attempts=1
2025-11-10T01:32:00.832387Z DEBUG duroxide::runtime: Orchestration started instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=unknown worker_id=orch-83ab1 is_continue_as_new=false
2025-11-10T01:32:00.832417Z DEBUG duroxide::runtime::execution: ðŸš€ Starting atomic single execution instance="inst-sample-hello-1" orchestration_name="HelloWorld"
2025-11-10T01:32:00.832434Z DEBUG duroxide::runtime::execution: No parent link for orchestration target="duroxide::runtime::execution" instance=inst-sample-hello-1
2025-11-10T01:32:00.832442Z DEBUG duroxide::runtime::execution: starting orchestration turn atomically instance=inst-sample-hello-1 message_count=0
2025-11-10T01:32:00.832457Z DEBUG duroxide::runtime::replay_engine: executing orchestration turn instance=inst-sample-hello-1
2025-11-10T01:32:00.832490Z  INFO duroxide::orchestration: hello_world started instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0
2025-11-10T01:32:00.832523Z DEBUG duroxide::runtime::execution: run_single_execution_atomic complete: history_delta=3, worker=1, orch=0 instance="inst-sample-hello-1"
2025-11-10T01:32:00.859715Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=172.453292ms elapsed_secs=0.172453292
2025-11-10T01:32:00.859777Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738319747 attempt=1
2025-11-10T01:32:00.976020Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=264.501417ms elapsed_secs=0.264501417
2025-11-10T01:32:00.979954Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=185.869667ms elapsed_secs=0.185869667
2025-11-10T01:32:01.059414Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=83.2175ms elapsed_secs=0.0832175
2025-11-10T01:32:01.063089Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=82.9995ms elapsed_secs=0.0829995
2025-11-10T01:32:01.066653Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=0 rows_returned=0 elapsed=94.466041ms elapsed_secs=0.094466041
2025-11-10T01:32:01.327015Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=168.074458ms elapsed_secs=0.168074458
2025-11-10T01:32:01.674690Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=331.396875ms elapsed_secs=0.331396875
2025-11-10T01:32:01.675433Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=346.869917ms elapsed_secs=0.346869917
2025-11-10T01:32:01.675967Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=0 rows_returned=0 elapsed=175.46725ms elapsed_secs=0.17546725
2025-11-10T01:32:01.753188Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=77.724834ms elapsed_secs=0.077724834
2025-11-10T01:32:01.760168Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=85.427083ms elapsed_secs=0.085427083
2025-11-10T01:32:01.898313Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=167.255416ms elapsed_secs=0.167255416
2025-11-10T01:32:01.898458Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738320870 attempt=2
2025-11-10T01:32:02.023987Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=243.670917ms elapsed_secs=0.243670917
2025-11-10T01:32:02.026128Z DEBUG ack_orchestration_item{history_delta=[OrchestrationStarted { event_id: 1, name: "HelloWorld", version: "1.0.0", input: "World", parent_instance: None, parent_id: None }, SystemCall { event_id: 2, op: "trace:INFO:hello_world started", value: "", execution_id: 1 }, ActivityScheduled { event_id: 3, name: "Hello", input: "Rust", execution_id: 1 }] worker_items=[ActivityExecute { instance: "inst-sample-hello-1", execution_id: 1, id: 3, name: "Hello", input: "Rust" }] orchestrator_items=[] metadata=ExecutionMetadata { status: None, output: None, orchestration_name: Some("HelloWorld"), orchestration_version: Some("1.0.0") } lock_token=lock_0f82e8bd-30d2-45fe-a001-9d7435250d03 execution_id=1}: sqlx::query: summary="SELECT e2e_test_950be669.ack_orchestration_item($1, $2, $3, â€¦" db.statement="\n\nSELECT\n  e2e_test_950be669.ack_orchestration_item($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=1 elapsed=270.206375ms elapsed_secs=0.270206375
2025-11-10T01:32:02.026184Z DEBUG ack_orchestration_item{history_delta=[OrchestrationStarted { event_id: 1, name: "HelloWorld", version: "1.0.0", input: "World", parent_instance: None, parent_id: None }, SystemCall { event_id: 2, op: "trace:INFO:hello_world started", value: "", execution_id: 1 }, ActivityScheduled { event_id: 3, name: "Hello", input: "Rust", execution_id: 1 }] worker_items=[ActivityExecute { instance: "inst-sample-hello-1", execution_id: 1, id: 3, name: "Hello", input: "Rust" }] orchestrator_items=[] metadata=ExecutionMetadata { status: None, output: None, orchestration_name: Some("HelloWorld"), orchestration_version: Some("1.0.0") } lock_token=lock_0f82e8bd-30d2-45fe-a001-9d7435250d03 execution_id=1}: duroxide_pg::provider: Acknowledged orchestration item via stored procedure target="duroxide::providers::postgres" operation="ack_orchestration_item" execution_id=1 history_count=3 worker_items_count=1 orchestrator_items_count=0 duration_ms=1193
2025-11-10T01:32:02.213282Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=1 elapsed=93.469625ms elapsed_secs=0.093469625
2025-11-10T01:32:02.216370Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=96.373875ms elapsed_secs=0.096373875
2025-11-10T01:32:02.216609Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738322026 attempt=1
2025-11-10T01:32:02.218025Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=190.768416ms elapsed_secs=0.190768416
2025-11-10T01:32:02.218101Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738321910 attempt=3
2025-11-10T01:32:02.293138Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=173.360584ms elapsed_secs=0.173360584
2025-11-10T01:32:02.300546Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=3 rows_returned=3 elapsed=178.260459ms elapsed_secs=0.178260459
2025-11-10T01:32:02.375528Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=82.202208ms elapsed_secs=0.082202208
2025-11-10T01:32:02.376906Z DEBUG fetch_work_item: sqlx::query: summary="UPDATE e2e_test_950be669.worker_queue SET lock_token â€¦" db.statement="\n\nUPDATE\n  e2e_test_950be669.worker_queue\nSET\n  lock_token = $1,\n  locked_until = $2\nWHERE\n  id = $3\n" rows_affected=1 rows_returned=0 elapsed=162.22125ms elapsed_secs=0.16222125
2025-11-10T01:32:02.413530Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=95.023416ms elapsed_secs=0.095023416
2025-11-10T01:32:02.413630Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738322228 attempt=2
2025-11-10T01:32:02.550418Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=134.597125ms elapsed_secs=0.134597125
2025-11-10T01:32:02.551244Z DEBUG fetch_work_item: sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=174.279333ms elapsed_secs=0.174279333
2025-11-10T01:32:02.551350Z DEBUG fetch_work_item: duroxide_pg::provider: Dequeued worker work item target="duroxide::providers::postgres" operation="dequeue_worker_peek_lock" duration_ms=696
2025-11-10T01:32:02.553697Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=235.431792ms elapsed_secs=0.235431792
2025-11-10T01:32:02.647852Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=93.04275ms elapsed_secs=0.09304275
2025-11-10T01:32:02.648005Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738322425 attempt=3
2025-11-10T01:32:02.723924Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=3 rows_returned=3 elapsed=85.746125ms elapsed_secs=0.085746125
2025-11-10T01:32:02.731621Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=84.414667ms elapsed_secs=0.084414667
2025-11-10T01:32:02.799146Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=84.580709ms elapsed_secs=0.084580709
2025-11-10T01:32:02.832384Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=94.683125ms elapsed_secs=0.094683125
2025-11-10T01:32:02.832463Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738322654 attempt=1
2025-11-10T01:32:02.879155Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=79.927417ms elapsed_secs=0.079927417
2025-11-10T01:32:02.928590Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=182.202791ms elapsed_secs=0.182202791
2025-11-10T01:32:03.070112Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=3 rows_returned=3 elapsed=248.808917ms elapsed_secs=0.248808917
2025-11-10T01:32:03.070397Z DEBUG duroxide::runtime: Activity started instance_id=inst-sample-hello-1 execution_id=1 activity_name=Hello activity_id=3 worker_id=work-859f3
2025-11-10T01:32:03.070437Z  INFO duroxide::activity: Hello activity started instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0 activity_name=Hello activity_id=3
2025-11-10T01:32:03.070456Z  INFO duroxide::activity: Hello activity completed -> Hello, Rust! instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0 activity_name=Hello activity_id=3
2025-11-10T01:32:03.070496Z DEBUG duroxide::runtime: Activity completed instance_id=inst-sample-hello-1 execution_id=1 activity_name=Hello activity_id=3 worker_id=work-859f3 outcome="success" duration_ms=0 result_size=12
2025-11-10T01:32:03.073775Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=218.38725ms elapsed_secs=0.21838725
2025-11-10T01:32:03.075062Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=136.424292ms elapsed_secs=0.136424292
2025-11-10T01:32:03.075110Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738322844 attempt=2
2025-11-10T01:32:03.227193Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=82.180208ms elapsed_secs=0.082180208
2025-11-10T01:32:03.227311Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738323030 attempt=1
2025-11-10T01:32:03.254490Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=83.312167ms elapsed_secs=0.083312167
2025-11-10T01:32:03.254589Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738323087 attempt=3
2025-11-10T01:32:03.312803Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=85.315417ms elapsed_secs=0.085315417
2025-11-10T01:32:03.326836Z DEBUG ack_work_item{completion=ActivityCompleted { instance: "inst-sample-hello-1", execution_id: 1, id: 3, result: "Hello, Rust!" } token=4aa60345-4e77-4f46-96ad-eafa3233fc42}: sqlx::query: summary="SELECT e2e_test_950be669.ack_worker($1, $2, $3)" db.statement="" rows_affected=1 rows_returned=1 elapsed=172.33025ms elapsed_secs=0.17233025
2025-11-10T01:32:03.326916Z DEBUG ack_work_item{completion=ActivityCompleted { instance: "inst-sample-hello-1", execution_id: 1, id: 3, result: "Hello, Rust!" } token=4aa60345-4e77-4f46-96ad-eafa3233fc42}: duroxide_pg::provider: Acknowledged worker and enqueued completion target="duroxide::providers::postgres" operation="ack_worker" instance_id=inst-sample-hello-1 duration_ms=256
2025-11-10T01:32:03.331307Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=3 rows_returned=3 elapsed=173.738666ms elapsed_secs=0.173738666
2025-11-10T01:32:03.396362Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=83.441459ms elapsed_secs=0.083441459
2025-11-10T01:32:03.438529Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=86.608125ms elapsed_secs=0.086608125
2025-11-10T01:32:03.497072Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=171.796375ms elapsed_secs=0.171796375
2025-11-10T01:32:03.497159Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738323239 attempt=2
2025-11-10T01:32:03.596122Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=99.828708ms elapsed_secs=0.099828708
2025-11-10T01:32:03.684621Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=188.257292ms elapsed_secs=0.188257292
2025-11-10T01:32:03.762809Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=86.264416ms elapsed_secs=0.086264416
2025-11-10T01:32:03.762956Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738323509 attempt=3
2025-11-10T01:32:03.767425Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=1 elapsed=88.658459ms elapsed_secs=0.088658459
2025-11-10T01:32:03.767752Z DEBUG fetch_orchestration_item: duroxide_pg::provider: Fetched orchestration item via stored procedure target="duroxide::providers::postgres" operation="fetch_orchestration_item" instance_id=inst-sample-hello-1 execution_id=1 message_count=1 history_count=3 duration_ms=227 attempts=1
2025-11-10T01:32:03.767833Z DEBUG duroxide::runtime: Orchestration started instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0 worker_id=orch-81f58 is_continue_as_new=false
2025-11-10T01:32:03.767853Z DEBUG duroxide::runtime::execution: ðŸš€ Starting atomic single execution instance="inst-sample-hello-1" orchestration_name="HelloWorld"
2025-11-10T01:32:03.767882Z DEBUG duroxide::runtime::execution: No parent link for orchestration target="duroxide::runtime::execution" instance=inst-sample-hello-1
2025-11-10T01:32:03.767891Z DEBUG duroxide::runtime::execution: starting orchestration turn atomically instance=inst-sample-hello-1 message_count=1
2025-11-10T01:32:03.767918Z DEBUG duroxide::runtime::replay_engine: converting messages to events instance=inst-sample-hello-1 message_count=1
2025-11-10T01:32:03.767943Z DEBUG duroxide::runtime::replay_engine: completion events created instance=inst-sample-hello-1 event_count=1
2025-11-10T01:32:03.767951Z DEBUG duroxide::runtime::replay_engine: executing orchestration turn instance=inst-sample-hello-1
2025-11-10T01:32:03.768020Z  INFO duroxide::orchestration: hello_world result=Hello, Rust!  instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0
2025-11-10T01:32:03.768077Z DEBUG duroxide::runtime::execution: run_single_execution_atomic complete: history_delta=3, worker=1, orch=0 instance="inst-sample-hello-1"
2025-11-10T01:32:03.769210Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=84.447083ms elapsed_secs=0.084447083
2025-11-10T01:32:03.770595Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=3 rows_returned=3 elapsed=87.423875ms elapsed_secs=0.087423875
2025-11-10T01:32:03.869546Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=185.358333ms elapsed_secs=0.185358333
2025-11-10T01:32:03.950604Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=90.785ms elapsed_secs=0.090785
2025-11-10T01:32:03.953670Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=84.005209ms elapsed_secs=0.084005209
2025-11-10T01:32:04.118892Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=163.70625ms elapsed_secs=0.16370625
2025-11-10T01:32:04.121323Z DEBUG ack_orchestration_item{history_delta=[ActivityCompleted { event_id: 4, source_event_id: 3, result: "Hello, Rust!" }, SystemCall { event_id: 5, op: "trace:INFO:hello_world result=Hello, Rust! ", value: "", execution_id: 1 }, ActivityScheduled { event_id: 6, name: "Hello", input: "World", execution_id: 1 }] worker_items=[ActivityExecute { instance: "inst-sample-hello-1", execution_id: 1, id: 6, name: "Hello", input: "World" }] orchestrator_items=[] metadata=ExecutionMetadata { status: None, output: None, orchestration_name: None, orchestration_version: None } lock_token=lock_609a8565-a274-4873-9cc0-bf485dfbd802 execution_id=1}: sqlx::query: summary="SELECT e2e_test_950be669.ack_orchestration_item($1, $2, $3, â€¦" db.statement="\n\nSELECT\n  e2e_test_950be669.ack_orchestration_item($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=1 elapsed=263.642834ms elapsed_secs=0.263642834
2025-11-10T01:32:04.121459Z DEBUG ack_orchestration_item{history_delta=[ActivityCompleted { event_id: 4, source_event_id: 3, result: "Hello, Rust!" }, SystemCall { event_id: 5, op: "trace:INFO:hello_world result=Hello, Rust! ", value: "", execution_id: 1 }, ActivityScheduled { event_id: 6, name: "Hello", input: "World", execution_id: 1 }] worker_items=[ActivityExecute { instance: "inst-sample-hello-1", execution_id: 1, id: 6, name: "Hello", input: "World" }] orchestrator_items=[] metadata=ExecutionMetadata { status: None, output: None, orchestration_name: None, orchestration_version: None } lock_token=lock_609a8565-a274-4873-9cc0-bf485dfbd802 execution_id=1}: duroxide_pg::provider: Acknowledged orchestration item via stored procedure target="duroxide::providers::postgres" operation="ack_orchestration_item" execution_id=1 history_count=3 worker_items_count=1 orchestrator_items_count=0 duration_ms=353
2025-11-10T01:32:04.207304Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=1 elapsed=83.371917ms elapsed_secs=0.083371917
2025-11-10T01:32:04.282371Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=84.765667ms elapsed_secs=0.084765667
2025-11-10T01:32:04.282480Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738324053 attempt=1
2025-11-10T01:32:04.291564Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=85.330834ms elapsed_secs=0.085330834
2025-11-10T01:32:04.291697Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738324121 attempt=1
2025-11-10T01:32:04.369007Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=6 rows_returned=6 elapsed=167.558125ms elapsed_secs=0.167558125
2025-11-10T01:32:04.377239Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=85.155459ms elapsed_secs=0.085155459
2025-11-10T01:32:04.384986Z DEBUG fetch_work_item: sqlx::query: summary="UPDATE e2e_test_950be669.worker_queue SET lock_token â€¦" db.statement="\n\nUPDATE\n  e2e_test_950be669.worker_queue\nSET\n  lock_token = $1,\n  locked_until = $2\nWHERE\n  id = $3\n" rows_affected=1 rows_returned=0 elapsed=176.147459ms elapsed_secs=0.176147459
2025-11-10T01:32:04.466216Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=88.852666ms elapsed_secs=0.088852666
2025-11-10T01:32:04.467382Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=91.384958ms elapsed_secs=0.091384958
2025-11-10T01:32:04.467424Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738324293 attempt=2
2025-11-10T01:32:04.467649Z DEBUG fetch_work_item: sqlx::query: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=82.594042ms elapsed_secs=0.082594042
2025-11-10T01:32:04.467678Z DEBUG fetch_work_item: duroxide_pg::provider: Dequeued worker work item target="duroxide::providers::postgres" operation="dequeue_worker_peek_lock" duration_ms=596
2025-11-10T01:32:04.485631Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=91.838375ms elapsed_secs=0.091838375
2025-11-10T01:32:04.485779Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738324302 attempt=2
2025-11-10T01:32:04.644421Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=95.411917ms elapsed_secs=0.095411917
2025-11-10T01:32:04.733445Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=90.034375ms elapsed_secs=0.090034375
2025-11-10T01:32:04.733595Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738324479 attempt=3
2025-11-10T01:32:04.742127Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=98.499875ms elapsed_secs=0.098499875
2025-11-10T01:32:04.742267Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738324497 attempt=3
2025-11-10T01:32:04.816849Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=174.004834ms elapsed_secs=0.174004834
2025-11-10T01:32:04.825720Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=6 rows_returned=6 elapsed=84.326834ms elapsed_secs=0.084326834
2025-11-10T01:32:04.825833Z DEBUG duroxide::runtime: Activity started instance_id=inst-sample-hello-1 execution_id=1 activity_name=Hello activity_id=6 worker_id=work-859f3
2025-11-10T01:32:04.825855Z  INFO duroxide::activity: Hello activity started instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0 activity_name=Hello activity_id=6
2025-11-10T01:32:04.825865Z  INFO duroxide::activity: Hello activity completed -> Hello, World! instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0 activity_name=Hello activity_id=6
2025-11-10T01:32:04.825874Z DEBUG duroxide::runtime: Activity completed instance_id=inst-sample-hello-1 execution_id=1 activity_name=Hello activity_id=6 worker_id=work-859f3 outcome="success" duration_ms=0 result_size=13
2025-11-10T01:32:04.926683Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=91.169ms elapsed_secs=0.091169
2025-11-10T01:32:04.928276Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=93.355833ms elapsed_secs=0.093355833
2025-11-10T01:32:04.988341Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=6 rows_returned=6 elapsed=85.301125ms elapsed_secs=0.085301125
2025-11-10T01:32:05.165397Z DEBUG ack_work_item{completion=ActivityCompleted { instance: "inst-sample-hello-1", execution_id: 1, id: 6, result: "Hello, World!" } token=10d206e0-c999-492a-b936-0b057df4dd18}: sqlx::query: summary="SELECT e2e_test_950be669.ack_worker($1, $2, $3)" db.statement="" rows_affected=1 rows_returned=1 elapsed=254.613791ms elapsed_secs=0.254613791
2025-11-10T01:32:05.165453Z DEBUG ack_work_item{completion=ActivityCompleted { instance: "inst-sample-hello-1", execution_id: 1, id: 6, result: "Hello, World!" } token=10d206e0-c999-492a-b936-0b057df4dd18}: duroxide_pg::provider: Acknowledged worker and enqueued completion target="duroxide::providers::postgres" operation="ack_worker" instance_id=inst-sample-hello-1 duration_ms=339
2025-11-10T01:32:05.282617Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=116.644042ms elapsed_secs=0.116644042
2025-11-10T01:32:05.282657Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738325028 attempt=1
2025-11-10T01:32:05.283008Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=117.139791ms elapsed_secs=0.117139791
2025-11-10T01:32:05.283021Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738325028 attempt=1
2025-11-10T01:32:05.330427Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=86.279833ms elapsed_secs=0.086279833
2025-11-10T01:32:05.451513Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=84.786125ms elapsed_secs=0.084786125
2025-11-10T01:32:05.458050Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=84.806417ms elapsed_secs=0.084806417
2025-11-10T01:32:05.458189Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738325294 attempt=2
2025-11-10T01:32:05.460233Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=1 elapsed=87.049667ms elapsed_secs=0.087049667
2025-11-10T01:32:05.460490Z DEBUG fetch_orchestration_item: duroxide_pg::provider: Fetched orchestration item via stored procedure target="duroxide::providers::postgres" operation="fetch_orchestration_item" instance_id=inst-sample-hello-1 execution_id=1 message_count=1 history_count=6 duration_ms=431 attempts=2
2025-11-10T01:32:05.460557Z DEBUG duroxide::runtime: Orchestration started instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0 worker_id=orch-81f58 is_continue_as_new=false
2025-11-10T01:32:05.460573Z DEBUG duroxide::runtime::execution: ðŸš€ Starting atomic single execution instance="inst-sample-hello-1" orchestration_name="HelloWorld"
2025-11-10T01:32:05.460602Z DEBUG duroxide::runtime::execution: No parent link for orchestration target="duroxide::runtime::execution" instance=inst-sample-hello-1
2025-11-10T01:32:05.460612Z DEBUG duroxide::runtime::execution: starting orchestration turn atomically instance=inst-sample-hello-1 message_count=1
2025-11-10T01:32:05.460630Z DEBUG duroxide::runtime::replay_engine: converting messages to events instance=inst-sample-hello-1 message_count=1
2025-11-10T01:32:05.460647Z DEBUG duroxide::runtime::replay_engine: completion events created instance=inst-sample-hello-1 event_count=1
2025-11-10T01:32:05.460655Z DEBUG duroxide::runtime::replay_engine: executing orchestration turn instance=inst-sample-hello-1
2025-11-10T01:32:05.460724Z  INFO duroxide::orchestration: hello_world result=Hello, World!  instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=HelloWorld orchestration_version=1.0.0
2025-11-10T01:32:05.460756Z DEBUG duroxide::runtime::execution: run_single_execution_atomic complete: history_delta=3, worker=0, orch=0 instance="inst-sample-hello-1"
2025-11-10T01:32:05.460786Z DEBUG duroxide::runtime: Orchestration completed instance_id=inst-sample-hello-1 execution_id=1 orchestration_name=unknown orchestration_version=unknown worker_id=orch-81f58 history_events=9
2025-11-10T01:32:05.508530Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=6 rows_returned=6 elapsed=86.499792ms elapsed_secs=0.086499792
2025-11-10T01:32:05.533306Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=81.542917ms elapsed_secs=0.081542917
2025-11-10T01:32:05.692646Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=237.885792ms elapsed_secs=0.237885792
2025-11-10T01:32:05.695007Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=143.225458ms elapsed_secs=0.143225458
2025-11-10T01:32:05.695119Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738325469 attempt=3
2025-11-10T01:32:05.780237Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=87.40625ms elapsed_secs=0.08740625
2025-11-10T01:32:05.790278Z DEBUG ack_orchestration_item{history_delta=[ActivityCompleted { event_id: 7, source_event_id: 6, result: "Hello, World!" }, SystemCall { event_id: 8, op: "trace:INFO:hello_world result=Hello, World! ", value: "", execution_id: 1 }, OrchestrationCompleted { event_id: 9, output: "Hello, World!" }] worker_items=[] orchestrator_items=[] metadata=ExecutionMetadata { status: Some("Completed"), output: Some("Hello, World!"), orchestration_name: None, orchestration_version: None } lock_token=lock_16459194-9471-4fb2-af31-750805f73ebf execution_id=1}: sqlx::query: summary="SELECT e2e_test_950be669.ack_orchestration_item($1, $2, $3, â€¦" db.statement="\n\nSELECT\n  e2e_test_950be669.ack_orchestration_item($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=1 elapsed=247.601875ms elapsed_secs=0.247601875
2025-11-10T01:32:05.790404Z DEBUG ack_orchestration_item{history_delta=[ActivityCompleted { event_id: 7, source_event_id: 6, result: "Hello, World!" }, SystemCall { event_id: 8, op: "trace:INFO:hello_world result=Hello, World! ", value: "", execution_id: 1 }, OrchestrationCompleted { event_id: 9, output: "Hello, World!" }] worker_items=[] orchestrator_items=[] metadata=ExecutionMetadata { status: Some("Completed"), output: Some("Hello, World!"), orchestration_name: None, orchestration_version: None } lock_token=lock_16459194-9471-4fb2-af31-750805f73ebf execution_id=1}: duroxide_pg::provider: Acknowledged orchestration item via stored procedure target="duroxide::providers::postgres" operation="ack_orchestration_item" execution_id=1 history_count=3 worker_items_count=0 orchestrator_items_count=0 duration_ms=329
2025-11-10T01:32:05.884273Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=92.076ms elapsed_secs=0.092076
2025-11-10T01:32:05.949843Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT COALESCE(MAX(execution_id), 1) FROM â€¦" db.statement="\n\nSELECT\n  COALESCE(MAX(execution_id), 1)\nFROM\n  e2e_test_950be669.executions\nWHERE\n  instance_id = $1\n" rows_affected=0 rows_returned=1 elapsed=176.450792ms elapsed_secs=0.176450792
2025-11-10T01:32:05.975851Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=91.867541ms elapsed_secs=0.091867541
2025-11-10T01:32:05.975944Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738325790 attempt=1
2025-11-10T01:32:06.033124Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=173.857875ms elapsed_secs=0.173857875
2025-11-10T01:32:06.117713Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=84.462083ms elapsed_secs=0.084462083
2025-11-10T01:32:06.120626Z DEBUG read{instance=inst-sample-hello-1}: sqlx::query: summary="SELECT event_data FROM e2e_test_950be669.history â€¦" db.statement="\n\nSELECT\n  event_data\nFROM\n  e2e_test_950be669.history\nWHERE\n  instance_id = $1\n  AND execution_id = $2\nORDER BY\n  event_id\n" rows_affected=9 rows_returned=9 elapsed=87.602208ms elapsed_secs=0.087602208
2025-11-10T01:32:06.216664Z DEBUG fetch_work_item: sqlx::query: summary="SELECT id, work_item FROM â€¦" db.statement="\n\nSELECT\n  id,\n  work_item\nFROM\n  e2e_test_950be669.worker_queue\nWHERE\n  lock_token IS NULL\n  OR locked_until <= $1\nORDER BY\n  id\nLIMIT\n  1 FOR\nUPDATE\n  SKIP LOCKED\n" rows_affected=0 rows_returned=0 elapsed=165.472458ms elapsed_secs=0.165472458
2025-11-10T01:32:06.218262Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=150.913541ms elapsed_secs=0.150913541
2025-11-10T01:32:06.218343Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738325986 attempt=1
2025-11-10T01:32:06.298281Z DEBUG fetch_work_item: sqlx::query: summary="ROLLBACK" db.statement="" rows_affected=0 rows_returned=0 elapsed=81.425375ms elapsed_secs=0.081425375
2025-11-10T01:32:06.301429Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=233.343375ms elapsed_secs=0.233343375
2025-11-10T01:32:06.301478Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738325987 attempt=2
2025-11-10T01:32:06.396691Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=80.320166ms elapsed_secs=0.080320166
2025-11-10T01:32:06.396790Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738326231 attempt=2
2025-11-10T01:32:06.483739Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=86.899916ms elapsed_secs=0.086899916
2025-11-10T01:32:06.483932Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738326313 attempt=3
2025-11-10T01:32:06.584502Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=88.42025ms elapsed_secs=0.08842025
2025-11-10T01:32:06.584657Z DEBUG fetch_orchestration_item: duroxide_pg::provider: No available instances, retrying target="duroxide::providers::postgres" operation="fetch_orchestration_item" now_ms=1762738326409 attempt=3
2025-11-10T01:32:06.745884Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=161.988917ms elapsed_secs=0.161988917
2025-11-10T01:32:06.914052Z DEBUG fetch_orchestration_item: sqlx::query: summary="SELECT * FROM e2e_test_950be669.fetch_orchestration_item($1, â€¦" db.statement="\n\nSELECT\n  *\nFROM\n  e2e_test_950be669.fetch_orchestration_item($1, $2)\n" rows_affected=0 rows_returned=0 elapsed=166.6835ms elapsed_secs=0.1666835
2025-11-10T01:32:08.183575Z  INFO sqlx::postgres::notice: drop cascades to 21 other objects
2025-11-10T01:32:08.192312Z DEBUG sqlx::query: summary="DROP SCHEMA IF EXISTS â€¦" db.statement="\n\nDROP SCHEMA IF EXISTS e2e_test_950be669 CASCADE\n" rows_affected=0 rows_returned=0 elapsed=191.147916ms elapsed_secs=0.191147916
test sample_hello_world_fs ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 24 filtered out; finished in 15.01s

